- title("My account")
.page-header
  %h2 Edit #{resource_name.to_s.humanize}

= form_for resource,
            :as => resource_name,
            :url => registration_path(resource_name),
            :html => { :method => :put, :class => "form-stacked" } do |f|
  -unless resource.errors.empty?
    = devise_error_messages!
  .clearfix
    = f.label :email
    .input
      = f.email_field :email
  .clearfix
    = f.label :name
    .input
      = f.text_field :name
  .clearfix
    = f.label :time_zone
    .input
      = f.time_zone_select :time_zone,
        ActiveSupport::TimeZone.us_zones,
        :default => "Central Time (US & Canada)"
  .clearfix
    = f.label :password
    .input
      = f.password_field :password
    %i (leave blank if you don't want to change it)
  .clearfix
    = f.label :password_confirmation
    .input
      = f.password_field :password_confirmation
  .clearfix
    = f.label :current_password
    .input
      = f.password_field :current_password
    %i (we need your current password to confirm your changes)
  .actions
    = f.submit "Update", :class => "btn primary"
    = link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete, :class => "btn danger"

-# %h3 Cancel my account
-# %p
  Unhappy?
  %br
  = link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete, :class => "btn danger"

= link_to "Back", :back
